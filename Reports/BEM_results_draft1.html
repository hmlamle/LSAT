<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.29">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>BEM LSAT metrics influenced by morphometrics at different scales - Prelim analysis 1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="BEM_results_draft1_files/libs/clipboard/clipboard.min.js"></script>
<script src="BEM_results_draft1_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="BEM_results_draft1_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="BEM_results_draft1_files/libs/quarto-html/popper.min.js"></script>
<script src="BEM_results_draft1_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="BEM_results_draft1_files/libs/quarto-html/anchor.min.js"></script>
<link href="BEM_results_draft1_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="BEM_results_draft1_files/libs/quarto-html/quarto-syntax-highlighting-0815c480559380816a4d1ea211a47e91.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="BEM_results_draft1_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="BEM_results_draft1_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="BEM_results_draft1_files/libs/bootstrap/bootstrap-bb462d781dde1847d9e3ccf7736099dd.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">BEM LSAT metrics influenced by morphometrics at different scales - Prelim analysis 1</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="background" class="level1">
<h1>Background:</h1>
<p>I have three sites with anywhere from 12 to 25 data points for LSAT metrics: turf height and sediment depth. It is predicted that these metrics, and spatial extent of LSAT is controlled by the structural complexity of the reef, likely at the micro-scale (&lt;1m<sup>2</sup>). This analysis is exploring the relationship of different morphometrics extracted from the Digital Elevation Model (DEM) created via photogrammetry of different sites across South Florida on LSAT turf length and sediment depth.</p>
<section id="viscore-analysis-rugosity" class="level2">
<h2 class="anchored" data-anchor-id="viscore-analysis-rugosity">Viscore Analysis: Rugosity</h2>
<p>In Viscore, I used their rugosity tool to estimate the rugosity at a 25 x 25cm box around each LSAT measurement point. This process was repeated for a 50 x 50cm box and 100 x 100cm box. I used a box with 20 lines and 100 points along each line to get x,y,z data. Rugosity was calculated by dividing the surface area (using z depth data) by the planar area (25cm, 50cm or 100cm, respectively).</p>
</section>
<section id="gis-analysis-surface-area-to-planar-area-ratio-profile-curvatures-topographic-position-index" class="level2">
<h2 class="anchored" data-anchor-id="gis-analysis-surface-area-to-planar-area-ratio-profile-curvatures-topographic-position-index">GIS Analysis: Surface Area to Planar Area Ratio, Profile Curvatures, Topographic Position Index</h2>
<p>In GIS, I repeated the process of drawing boxes around the points where LSAT data was collected and used those polygon layers to extract the below values as means of the area scales.</p>
<p><strong>Slope -</strong> The average angle within each of the polygon areas measured in decimal degrees. A slope at 0 is completely flat, while a slope at 90 is vertical.</p>
<p><strong>Surface Area to Planar Area Ratio (SAPR) -</strong> The GIS version of calculating rugosity. Instead of drawing a set of lines within a box as in Viscore, the surface area within each scaled polygon layer was divided by the 2D planar area.</p>
<p><strong>Profile Curvatures: Standard -</strong> The second derivative of the DEM surface. This indicates horizontal AND vertical concave (negative values) or convex forms (positive values). This tells us the direction that water or sediment would flow naturally downhill. This can capture micro-trends of sediment accumulation in the reefscape.</p>
<p><strong>Profile Curvatures: Planform -</strong> This curvature method measures only the curvature of the terrain perpendicular to the direction of steepest slope. It indicates convex curvature, meaning that there is curvature bulging outward (positive planform curvature). Concave curvature (negative values) indicates that the surface is curving inwards, causing convergence of sediment/water flow.</p>
<p><strong>Topographic Position Index (TPI) -</strong> A measure of the relative elevation of a location compared to the average elevation of its surrounding neighborhood. Positive values indicate a position is higher than it’s surroundings, while negative values indicate a location is lower. Values near zero are flat areas.</p>
</section>
</section>
<section id="effect-of-spatial-scale-of-rugosity-viscore-and-slope-gis-on-lsat-metrics" class="level1">
<h1>Effect of Spatial Scale of Rugosity (Viscore) and Slope (GIS) on LSAT metrics</h1>
<p>By pooling data across sites and examining model fits separately for each scale (25 cm, 50 cm, 100 cm), we aim to identify which spatial scale best captures the drivers of sediment accumulation and turf growth on the reef in addition to LSAT abundance.</p>
</section>
<section id="glm-model-results-sediment-depth-at-25-50-100cm-scales-of-measurement" class="level1">
<h1>GLM Model Results: Sediment Depth at 25, 50, 100cm scales of measurement</h1>
<p>These results are what I presented over at the ReeFLorida Conference in November. When discussing my results with Dr.&nbsp;Duran, he recommended that I remove NNDR (spur and groove reef) from the analysis and see if the results change. Since this is a different reef type than South Canyon, Emerald, and Ft Lauderdale and there’s only one replicate of this reef type I decided to remove it from the presentation. The below results show the relationship both with and without including NNDR from the analysis.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>df25 <span class="ot">&lt;-</span> scaled_master <span class="sc">%&gt;%</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(scale_cm <span class="sc">==</span><span class="st">"25"</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>df50 <span class="ot">&lt;-</span> scaled_master <span class="sc">%&gt;%</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(scale_cm <span class="sc">==</span><span class="st">"50"</span>)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>df100 <span class="ot">&lt;-</span> scaled_master <span class="sc">%&gt;%</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(scale_cm <span class="sc">==</span><span class="st">"100"</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># NO NNDR: </span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>no_nndr <span class="ot">&lt;-</span> scaled_master <span class="sc">%&gt;%</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>site_code <span class="sc">==</span> <span class="st">"NNDR"</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>df25_nndr <span class="ot">&lt;-</span> no_nndr <span class="sc">%&gt;%</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(scale_cm <span class="sc">==</span><span class="st">"25"</span>)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>df50_nndr <span class="ot">&lt;-</span> no_nndr <span class="sc">%&gt;%</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(scale_cm <span class="sc">==</span><span class="st">"50"</span>)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>df100_nndr <span class="ot">&lt;-</span> no_nndr <span class="sc">%&gt;%</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(scale_cm <span class="sc">==</span><span class="st">"100"</span>)</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">na.action =</span> <span class="st">"na.fail"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="sediment-depth-morphometrics-25cm" class="level2">
<h2 class="anchored" data-anchor-id="sediment-depth-morphometrics-25cm">Sediment Depth ~ Morphometrics (25cm)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>sed_25 <span class="ot">&lt;-</span> <span class="fu">glmmTMB</span>(sediment_depth <span class="sc">~</span> rugo_mean <span class="sc">+</span> slope_mean <span class="sc">+</span> sapr <span class="sc">+</span> std_curve <span class="sc">+</span> plan_curve <span class="sc">+</span> tpi,</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>                  <span class="at">data =</span> df25, <span class="at">family =</span> <span class="fu">tweedie</span>(<span class="at">link =</span><span class="st">"log"</span>))</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>dredge_25_sed <span class="ot">&lt;-</span> <span class="fu">dredge</span>(sed_25, <span class="at">rank =</span> <span class="st">"AICc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Fixed terms are "cond((Int))" and "disp((Int))"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(dredge_25_sed, delta <span class="sc">&lt;=</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Global model call: glmmTMB(formula = sediment_depth ~ rugo_mean + slope_mean + sapr + 
    std_curve + plan_curve + tpi, data = df25, family = tweedie(link = "log"), 
    ziformula = ~0, dispformula = ~1)
---
Model selection table 
   cnd((Int)) dsp((Int)) cnd(pln_crv) cnd(rug_men) cnd(spr) cnd(slp_men)
5      0.7060          +                            -0.2639             
13     0.7010          +                            -0.2145     -0.05141
7      0.7038          +                   0.03494  -0.2829             
6      0.7036          +     -0.02763               -0.2864             
21     0.7063          +                            -0.2662             
9      0.7059          +                                        -0.15160
37     0.7059          +                            -0.2647             
15     0.6943          +                   0.05926  -0.2170     -0.08235
   cnd(std_crv)  cnd(tpi) df  logLik  AICc delta weight
5                          4 -82.245 173.0  0.00  0.312
13                         5 -82.101 175.0  1.98  0.116
7                          5 -82.124 175.0  2.02  0.114
6                          5 -82.209 175.2  2.19  0.104
21     -0.01366            5 -82.220 175.2  2.21  0.103
9                          4 -83.368 175.2  2.25  0.101
37              -0.003367  5 -82.243 175.3  2.26  0.101
15                         6 -81.812 176.7  3.72  0.049
Models ranked by AICc(x) </code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select the best model:</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>best_sed_25 <span class="ot">&lt;-</span> <span class="fu">get.models</span>(dredge_25_sed, <span class="at">subset =</span> <span class="dv">5</span>)[[<span class="dv">1</span>]]</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># No NNDR:</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>sed_25_nndr <span class="ot">&lt;-</span> <span class="fu">glmmTMB</span>(sediment_depth <span class="sc">~</span> rugo_mean <span class="sc">+</span> slope_mean <span class="sc">+</span> sapr <span class="sc">+</span> std_curve <span class="sc">+</span> plan_curve <span class="sc">+</span> tpi,</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>                  <span class="at">data =</span> df25_nndr, <span class="at">family =</span> <span class="fu">tweedie</span>(<span class="at">link =</span><span class="st">"log"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>dredge_25_sed_nndr <span class="ot">&lt;-</span> <span class="fu">dredge</span>(sed_25_nndr, <span class="at">rank =</span> <span class="st">"AICc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Fixed terms are "cond((Int))" and "disp((Int))"</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(dredge_25_sed_nndr, delta <span class="sc">&lt;=</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Global model call: glmmTMB(formula = sediment_depth ~ rugo_mean + slope_mean + sapr + 
    std_curve + plan_curve + tpi, data = df25_nndr, family = tweedie(link = "log"), 
    ziformula = ~0, dispformula = ~1)
---
Model selection table 
     cnd((Int)) dsp((Int)) cnd(pln_crv) cnd(rug_men) cnd(spr) cnd(slp_men)
11       0.5055          +                   -0.5859              -0.07244
9        0.7417          +                                        -0.16470
4        0.4597          +     -0.09039      -0.7810                      
35       0.4538          +                   -0.7629                      
19       0.4557          +                   -0.7638                      
7        0.4643          +                   -0.7862  0.04791             
15       0.6656          +                   -0.5244  0.54360     -0.20730
12       0.5464          +     -0.20190      -0.4872              -0.13060
41       0.7262          +                                        -0.17580
43       0.5064          +                   -0.5571              -0.08416
27       0.5067          +                   -0.5692              -0.07980
25       0.7338          +                                        -0.17170
8        0.4377          +     -0.16130      -0.7130 -0.17070             
14       0.8300          +     -0.15960               0.35670     -0.28360
36       0.4614          +     -0.10240      -0.7835                      
1        0.8293          +                                                
39       0.4566          +                   -0.7716  0.01811             
42       0.7494          +     -0.29300                           -0.22420
51       0.4538          +                   -0.7630                      
23       0.4612          +                   -0.7819  0.03797             
26       0.7406          +     -0.24650                           -0.22000
45       0.8773          +                            0.57610     -0.30500
16       0.6395          +     -0.09888      -0.4957  0.38930     -0.19690
47       0.6601          +                   -0.5191  0.52530     -0.20580
44       0.5538          +     -0.24060      -0.4864              -0.13450
28       0.5459          +     -0.19850      -0.4864              -0.13060
NA                                                                        
NA.1                                                                      
NA.2                                                                      
NA.3                                                                      
NA.4                                                                      
NA.5                                                                      
NA.6                                                                      
NA.7                                                                      
NA.8                                                                      
NA.9                                                                      
     cnd(std_crv) cnd(tpi) df  logLik  AICc delta
11                          5 -89.416 189.9  0.00
9                           4 -90.728 190.2  0.25
4                           5 -89.580 190.3  0.33
35                 0.03180  5 -89.686 190.5  0.54
19       0.016550           5 -89.705 190.5  0.58
7                           5 -89.715 190.5  0.60
15                          6 -88.669 190.9  0.97
12                          6 -88.805 191.2  1.24
41                 0.07670  5 -90.471 192.0  2.11
43                 0.05477  6 -89.288 192.1  2.21
27       0.029560           6 -89.339 192.2  2.31
25       0.041680           5 -90.573 192.2  2.32
8                           6 -89.506 192.6  2.65
14                          6 -89.542 192.6  2.72
36                -0.01239  6 -89.576 192.7  2.79
1                           3 -93.217 192.9  2.93
39                 0.02927  6 -89.685 192.9  3.00
42                -0.03792  6 -89.685 192.9  3.00
51       0.001519  0.03023  6 -89.686 192.9  3.01
23       0.014830           6 -89.697 192.9  3.03
26       0.007835           6 -89.717 193.0  3.07
45                 0.03173  6 -89.719 193.0  3.07
16                          7 -88.589 193.3  3.37
47                 0.01628  7 -88.659 193.4  3.51
44                -0.03632  7 -88.772 193.7  3.73
28       0.004618           7 -88.804 193.7  3.80
NA                                               
NA.1                                             
NA.2                                             
NA.3                                             
NA.4                                             
NA.5                                             
NA.6                                             
NA.7                                             
NA.8                                             
NA.9                                             
Models ranked by AICc(x) </code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>best_sed_25_nndr <span class="ot">&lt;-</span> <span class="fu">get.models</span>(dredge_25_sed_nndr, <span class="at">subset =</span> <span class="dv">10</span>)[[<span class="dv">1</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="sediment-depth-morphometrics-50cm" class="level2">
<h2 class="anchored" data-anchor-id="sediment-depth-morphometrics-50cm">Sediment Depth ~ Morphometrics (50cm)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>sed_50 <span class="ot">&lt;-</span> <span class="fu">glmmTMB</span>(sediment_depth <span class="sc">~</span> rugo_mean <span class="sc">+</span> slope_mean <span class="sc">+</span> sapr <span class="sc">+</span> std_curve <span class="sc">+</span> plan_curve <span class="sc">+</span> tpi,</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>                  <span class="at">data =</span> df50, <span class="at">family =</span> <span class="fu">tweedie</span>(<span class="at">link =</span><span class="st">"log"</span>))</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>dredge_50_sed <span class="ot">&lt;-</span> <span class="fu">dredge</span>(sed_50, <span class="at">rank =</span> <span class="st">"AICc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Fixed terms are "cond((Int))" and "disp((Int))"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(dredge_50_sed, delta <span class="sc">&lt;=</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Global model call: glmmTMB(formula = sediment_depth ~ rugo_mean + slope_mean + sapr + 
    std_curve + plan_curve + tpi, data = df50, family = tweedie(link = "log"), 
    ziformula = ~0, dispformula = ~1)
---
Model selection table 
   cnd((Int)) dsp((Int)) cnd(pln_crv) cnd(rug_men) cnd(spr) cnd(slp_men)
35     0.7016          +                   -0.3317                      
43     0.7064          +                   -0.2592              -0.12260
39     0.6947          +                   -0.2445  -0.1427             
36     0.6978          +      0.10330      -0.3151                      
51     0.7012          +                   -0.3353                      
19     0.7107          +                   -0.3023                      
47     0.7000          +                   -0.2058  -0.1101     -0.09977
3      0.7218          +                   -0.2853                      
45     0.7079          +                            -0.2124     -0.16080
37     0.7013          +                            -0.3059             
4      0.7112          +      0.17700      -0.2652                      
44     0.7031          +      0.07168      -0.2556              -0.10930
59     0.7058          +                   -0.2624              -0.12730
11     0.7265          +                   -0.2028              -0.14130
23     0.7037          +                   -0.2050  -0.1548             
27     0.7160          +                   -0.2281              -0.12270
55     0.6944          +                   -0.2491  -0.1411             
20     0.7039          +      0.13950      -0.2837                      
40     0.6944          +      0.02926      -0.2498  -0.1265             
7      0.7151          +                   -0.1851  -0.1575             
5      0.7153          +                            -0.2891             
13     0.7225          +                            -0.1957     -0.15760
21     0.7061          +                            -0.2981             
   cnd(std_crv) cnd(tpi) df  logLik  AICc delta weight
35               -0.1819  5 -77.934 166.6  0.00  0.151
43               -0.1748  6 -77.254 167.6  0.96  0.093
39               -0.1801  6 -77.324 167.7  1.10  0.087
36               -0.1615  6 -77.623 168.3  1.70  0.064
51      0.04458  -0.2189  6 -77.882 168.9  2.22  0.050
19     -0.13050           5 -79.133 169.0  2.40  0.045
47               -0.1752  7 -76.909 169.3  2.65  0.040
3                         4 -80.432 169.4  2.73  0.038
45               -0.1385  6 -78.206 169.5  2.87  0.036
37               -0.1344  5 -79.387 169.5  2.91  0.035
4                         5 -79.457 169.7  3.05  0.033
44               -0.1615  7 -77.112 169.7  3.06  0.033
59      0.06223  -0.2268  7 -77.154 169.8  3.14  0.031
11                        5 -79.535 169.8  3.20  0.030
23     -0.13020           6 -78.417 169.9  3.29  0.029
27     -0.11860           6 -78.467 170.0  3.39  0.028
55      0.04062  -0.2140  7 -77.283 170.0  3.40  0.028
20     -0.11570           6 -78.491 170.1  3.43  0.027
40               -0.1745  7 -77.309 170.1  3.45  0.027
7                         5 -79.667 170.1  3.46  0.027
5                         4 -80.919 170.3  3.71  0.024
13                        5 -79.798 170.4  3.73  0.023
21     -0.11120           5 -79.906 170.6  3.94  0.021
Models ranked by AICc(x) </code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select the best model:</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>best_sed_50 <span class="ot">&lt;-</span> <span class="fu">get.models</span>(dredge_50_sed, <span class="at">subset =</span> <span class="dv">7</span>)[[<span class="dv">1</span>]]</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="co"># NO NNDR: </span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>sed_50_nndr <span class="ot">&lt;-</span> <span class="fu">glmmTMB</span>(sediment_depth <span class="sc">~</span> rugo_mean <span class="sc">+</span> slope_mean <span class="sc">+</span> sapr <span class="sc">+</span> std_curve <span class="sc">+</span> plan_curve <span class="sc">+</span> tpi,</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>                       <span class="at">data =</span> df50_nndr, <span class="at">family =</span> <span class="fu">tweedie</span>(<span class="at">link =</span><span class="st">"log"</span>))</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>dredge_50_sed_nndr <span class="ot">&lt;-</span> <span class="fu">dredge</span>(sed_50_nndr, <span class="at">rank =</span> <span class="st">"AICc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Fixed terms are "cond((Int))" and "disp((Int))"</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(dredge_50_sed_nndr, delta <span class="sc">&lt;=</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Global model call: glmmTMB(formula = sediment_depth ~ rugo_mean + slope_mean + sapr + 
    std_curve + plan_curve + tpi, data = df50_nndr, family = tweedie(link = "log"), 
    ziformula = ~0, dispformula = ~1)
---
Model selection table 
     cnd((Int)) dsp((Int)) cnd(pln_crv) cnd(rug_men) cnd(spr) cnd(slp_men)
10       0.7632          +      -0.3694                            -0.3539
9        0.7555          +                                         -0.2622
12       0.6015          +      -0.3685      -0.3649               -0.3011
14       0.6636          +      -0.4281              -0.31180      -0.3121
42       0.7468          +      -0.3706                            -0.3692
26       0.7598          +      -0.3631                            -0.3591
11       0.5845          +                   -0.3849               -0.2079
25       0.7509          +                                         -0.2726
44       0.5962          +      -0.3704      -0.3440               -0.3177
16       0.5583          +      -0.4107      -0.2966 -0.22970      -0.2801
13       0.7351          +                           -0.06342      -0.2500
46       0.6608          +      -0.4224              -0.27770      -0.3292
28       0.6036          +      -0.3646      -0.3551               -0.3062
NA                                                                        
NA.1                                                                      
NA.2                                                                      
NA.3                                                                      
NA.4                                                                      
NA.5                                                                      
NA.6                                                                      
NA.7                                                                      
NA.8                                                                      
NA.9                                                                      
     cnd(std_crv) cnd(tpi) df  logLik  AICc delta
10                          5 -87.025 185.1  0.00
9                           4 -88.839 186.4  1.25
12                          6 -86.467 186.5  1.35
14                          6 -86.592 186.7  1.60
42                  0.1462  6 -86.721 187.0  1.86
26        0.04902           6 -86.956 187.5  2.33
11                          5 -88.244 187.6  2.44
25        0.06627           5 -88.717 188.5  3.38
44                  0.1301  7 -86.218 188.5  3.41
16                          7 -86.250 188.6  3.47
13                          5 -88.820 188.7  3.59
46                  0.1219  7 -86.384 188.9  3.74
28        0.03427           7 -86.432 189.0  3.84
NA                                               
NA.1                                             
NA.2                                             
NA.3                                             
NA.4                                             
NA.5                                             
NA.6                                             
NA.7                                             
NA.8                                             
NA.9                                             
Models ranked by AICc(x) </code></pre>
</div>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>best_sed_50_nndr <span class="ot">&lt;-</span> <span class="fu">get.models</span>(dredge_50_sed_nndr, <span class="at">subset =</span> <span class="dv">5</span>)[[<span class="dv">1</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
</div>
</section>
<section id="sediment-depth-morphometrics-100cm" class="level2">
<h2 class="anchored" data-anchor-id="sediment-depth-morphometrics-100cm">Sediment Depth ~ Morphometrics (100cm)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>sed_100 <span class="ot">&lt;-</span> <span class="fu">glmmTMB</span>(sediment_depth <span class="sc">~</span> rugo_mean <span class="sc">+</span> slope_mean <span class="sc">+</span> sapr <span class="sc">+</span> std_curve <span class="sc">+</span> plan_curve <span class="sc">+</span> tpi,</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>                  <span class="at">data =</span> df100, <span class="at">family =</span> <span class="fu">tweedie</span>(<span class="at">link =</span><span class="st">"log"</span>))</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>dredge_100_sed <span class="ot">&lt;-</span> <span class="fu">dredge</span>(sed_100, <span class="at">rank =</span> <span class="st">"AICc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Fixed terms are "cond((Int))" and "disp((Int))"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(dredge_100_sed, delta <span class="sc">&lt;=</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Global model call: glmmTMB(formula = sediment_depth ~ rugo_mean + slope_mean + sapr + 
    std_curve + plan_curve + tpi, data = df100, family = tweedie(link = "log"), 
    ziformula = ~0, dispformula = ~1)
---
Model selection table 
   cnd((Int)) dsp((Int)) cnd(pln_crv) cnd(rug_men) cnd(spr) cnd(slp_men)
3      0.6484          +                   -0.4674                      
35     0.6543          +                   -0.4639                      
11     0.6600          +                   -0.3537              -0.11400
19     0.6333          +                   -0.4810                      
7      0.6506          +                   -0.3922 -0.10070             
43     0.6652          +                   -0.3555              -0.10760
27     0.6451          +                   -0.3715              -0.10850
39     0.6575          +                   -0.3625 -0.13820             
4      0.6494          +    -0.018580      -0.4694                      
23     0.6337          +                   -0.3875 -0.12980             
15     0.6609          +                   -0.3036 -0.07766     -0.10590
51     0.6472          +                   -0.4697                      
12     0.6635          +    -0.056970      -0.3543              -0.11990
36     0.6545          +    -0.004441      -0.4643                      
20     0.6309          +     0.030810      -0.4782                      
13     0.6998          +                           -0.18130     -0.18220
47     0.6666          +                   -0.2861 -0.11320     -0.09347
9      0.7165          +                                        -0.24200
31     0.6443          +                   -0.3069 -0.10620     -0.09616
45     0.7044          +                           -0.20760     -0.16510
8      0.6544          +    -0.063750      -0.3872 -0.11640             
   cnd(std_crv) cnd(tpi) df  logLik  AICc delta weight
3                         4 -78.794 166.1  0.00  0.137
35               -0.3680  5 -78.026 166.8  0.73  0.095
11                        5 -78.074 166.9  0.82  0.091
19      -0.3497           5 -78.112 167.0  0.90  0.087
7                         5 -78.515 167.8  1.71  0.058
43               -0.3523  6 -77.391 167.9  1.78  0.056
27      -0.3335           6 -77.465 168.0  1.93  0.052
39               -0.4266  6 -77.513 168.1  2.02  0.050
4                         5 -78.788 168.3  2.25  0.044
23      -0.3944           6 -77.655 168.4  2.31  0.043
15                        6 -77.910 168.9  2.82  0.034
51      -0.1240  -0.2627  6 -78.002 169.1  3.00  0.031
12                        6 -78.015 169.1  3.03  0.030
36               -0.3670  6 -78.025 169.1  3.05  0.030
20      -0.3659           6 -78.095 169.3  3.19  0.028
13                        5 -79.386 169.5  3.45  0.024
47               -0.4000  7 -77.054 169.6  3.49  0.024
9                         4 -80.627 169.8  3.66  0.022
31      -0.3711           7 -77.165 169.8  3.71  0.021
45               -0.4108  6 -78.359 169.8  3.71  0.021
8                         6 -78.450 170.0  3.90  0.020
Models ranked by AICc(x) </code></pre>
</div>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co"># just use rugosity for the best model for sed 100. </span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a><span class="co"># select the best model:</span></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>best_sed_100 <span class="ot">&lt;-</span> <span class="fu">get.models</span>(dredge_100_sed, <span class="at">subset =</span> <span class="dv">1</span>)[[<span class="dv">1</span>]]</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a><span class="co"># NO NNDR: </span></span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>sed_100_nndr <span class="ot">&lt;-</span> <span class="fu">glmmTMB</span>(sediment_depth <span class="sc">~</span> rugo_mean <span class="sc">+</span> slope_mean <span class="sc">+</span> sapr <span class="sc">+</span> std_curve <span class="sc">+</span> plan_curve <span class="sc">+</span> tpi,</span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a>                       <span class="at">data =</span> df100_nndr, <span class="at">family =</span> <span class="fu">tweedie</span>(<span class="at">link =</span><span class="st">"log"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>dredge_100_sed_nndr <span class="ot">&lt;-</span> <span class="fu">dredge</span>(sed_100_nndr, <span class="at">rank =</span> <span class="st">"AICc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Fixed terms are "cond((Int))" and "disp((Int))"</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(dredge_100_sed_nndr, delta <span class="sc">&lt;=</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Global model call: glmmTMB(formula = sediment_depth ~ rugo_mean + slope_mean + sapr + 
    std_curve + plan_curve + tpi, data = df100_nndr, family = tweedie(link = "log"), 
    ziformula = ~0, dispformula = ~1)
---
Model selection table 
      cnd((Int)) dsp((Int)) cnd(pln_crv) cnd(rug_men) cnd(spr) cnd(slp_men)
9         0.7473          +                                         -0.2184
3         0.3037          +                   -1.0810                      
11        0.4817          +                   -0.6018               -0.1469
13        0.6373          +                            -0.3377      -0.1798
10        0.7579          +     -0.20840                            -0.2470
25        0.7502          +                                         -0.2074
41        0.7580          +                                         -0.2087
14        0.6451          +     -0.21410               -0.3470      -0.2083
29        0.6362          +                            -0.3506      -0.1669
26        0.7614          +     -0.22420                            -0.2386
4         0.3001          +     -0.08658      -1.1070                      
45        0.6428          +                            -0.3672      -0.1629
5         0.6034          +                            -0.6131             
NA                                                                         
NA.1                                                                       
NA.2                                                                       
NA.3                                                                       
NA.4                                                                       
NA.5                                                                       
NA.6                                                                       
NA.7                                                                       
NA.8                                                                       
NA.9                                                                       
NA.10                                                                      
NA.11                                                                      
NA.12                                                                      
      cnd(std_crv) cnd(tpi) df  logLik  AICc delta
9                            4 -89.282 187.3  0.00
3                            4 -89.746 188.2  0.93
11                           5 -88.599 188.3  1.01
13                           5 -88.666 188.4  1.15
10                           5 -88.767 188.6  1.35
25         -0.3173           5 -88.970 189.0  1.75
41                  -0.1918  5 -89.203 189.5  2.22
14                           6 -88.103 189.8  2.48
29         -0.3343           6 -88.319 190.2  2.92
26         -0.3640           6 -88.363 190.3  3.00
4                            5 -89.651 190.4  3.12
45                  -0.2701  6 -88.505 190.6  3.29
5                            4 -90.977 190.7  3.39
NA                                                
NA.1                                              
NA.2                                              
NA.3                                              
NA.4                                              
NA.5                                              
NA.6                                              
NA.7                                              
NA.8                                              
NA.9                                              
NA.10                                             
NA.11                                             
NA.12                                             
Models ranked by AICc(x) </code></pre>
</div>
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>best_sed_100_nndr <span class="ot">&lt;-</span> <span class="fu">get.models</span>(dredge_100_sed_nndr, <span class="at">subset =</span> <span class="dv">1</span>)[[<span class="dv">1</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
</div>
</section>
</section>
<section id="glm-model-results-turf-length-at-25-50-100cm-scales-of-measurement" class="level1">
<h1>GLM Model Results: Turf Length at 25, 50, 100cm scales of measurement</h1>
<p>These results are what I presented over at the ReeFLorida Conference in November. I also reran these results with and without NNDR and did not include NNDR in the presentation.</p>
<section id="turf-length-morphometrics-25cm" class="level2">
<h2 class="anchored" data-anchor-id="turf-length-morphometrics-25cm">Turf Length ~ Morphometrics (25cm)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>turf_25 <span class="ot">&lt;-</span> <span class="fu">glmmTMB</span>(turf_length <span class="sc">~</span> rugo_mean <span class="sc">+</span> slope_mean <span class="sc">+</span> sapr <span class="sc">+</span> std_curve <span class="sc">+</span> plan_curve <span class="sc">+</span> tpi,</span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>                  <span class="at">data =</span> df25, <span class="at">family =</span> <span class="fu">tweedie</span>(<span class="at">link =</span><span class="st">"log"</span>))</span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>dredge_25_turf <span class="ot">&lt;-</span> <span class="fu">dredge</span>(turf_25, <span class="at">rank =</span> <span class="st">"AICc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Fixed terms are "cond((Int))" and "disp((Int))"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(dredge_25_turf, delta <span class="sc">&lt;=</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Global model call: glmmTMB(formula = turf_length ~ rugo_mean + slope_mean + sapr + 
    std_curve + plan_curve + tpi, data = df25, family = tweedie(link = "log"), 
    ziformula = ~0, dispformula = ~1)
---
Model selection table 
   cnd((Int)) dsp((Int)) cnd(pln_crv) cnd(rug_men) cnd(spr) cnd(slp_men)
3       1.260          +                  -0.10670                      
9       1.249          +                                        -0.08820
1       1.265          +                                                
11      1.252          +                  -0.08115              -0.04786
35      1.260          +                  -0.10390                      
19      1.258          +                  -0.10520                      
4       1.260          +     0.012050     -0.10530                      
7       1.259          +                  -0.10320 -0.01022             
41      1.248          +                                        -0.09108
25      1.246          +                                        -0.09325
5       1.262          +                           -0.05666             
33      1.264          +                                                
13      1.248          +                            0.02739     -0.10350
10      1.248          +    -0.009575                           -0.09256
43      1.251          +                  -0.07530              -0.05316
17      1.263          +                                                
27      1.250          +                  -0.07576              -0.05476
2       1.266          +     0.020940                                   
15      1.251          +                  -0.08295  0.03441     -0.06620
12      1.252          +    -0.001425     -0.08089              -0.04864
   cnd(std_crv) cnd(tpi) df  logLik  AICc delta weight
3                         4 -74.505 157.5  0.00  0.158
9                         4 -74.999 158.5  0.99  0.096
1                         3 -76.394 159.1  1.57  0.072
11                        5 -74.207 159.2  1.67  0.068
35               0.03221  5 -74.260 159.3  1.77  0.065
19      0.02304           5 -74.371 159.5  2.00  0.058
4                         5 -74.467 159.7  2.19  0.053
7                         5 -74.494 159.8  2.24  0.051
41               0.04294  5 -74.578 159.9  2.41  0.047
25      0.03615           5 -74.679 160.1  2.61  0.043
5                         4 -75.991 160.5  2.97  0.036
33               0.03617  4 -76.065 160.6  3.12  0.033
13                        5 -74.948 160.7  3.15  0.033
10                        5 -74.979 160.7  3.21  0.032
43               0.03731  6 -73.894 160.9  3.36  0.029
17      0.02616           4 -76.215 160.9  3.42  0.029
27      0.03000           6 -73.991 161.1  3.56  0.027
2                         4 -76.284 161.1  3.56  0.027
15                        6 -74.128 161.3  3.83  0.023
12                        6 -74.206 161.5  3.99  0.021
Models ranked by AICc(x) </code></pre>
</div>
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select the best model:</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>best_turf_25 <span class="ot">&lt;-</span> <span class="fu">get.models</span>(dredge_25_turf, <span class="at">subset =</span> <span class="dv">2</span>)[[<span class="dv">1</span>]]</span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a><span class="co"># NO NNDR: </span></span>
<span id="cb98-5"><a href="#cb98-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-6"><a href="#cb98-6" aria-hidden="true" tabindex="-1"></a>turf_25_nndr <span class="ot">&lt;-</span> <span class="fu">glmmTMB</span>(turf_length <span class="sc">~</span> rugo_mean <span class="sc">+</span> slope_mean <span class="sc">+</span> sapr <span class="sc">+</span> std_curve <span class="sc">+</span> plan_curve <span class="sc">+</span> tpi,</span>
<span id="cb98-7"><a href="#cb98-7" aria-hidden="true" tabindex="-1"></a>                        <span class="at">data =</span> df25_nndr, <span class="at">family =</span> <span class="fu">tweedie</span>(<span class="at">link =</span><span class="st">"log"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>dredge_turf_25_nndr <span class="ot">&lt;-</span> <span class="fu">dredge</span>(turf_25_nndr, <span class="at">rank =</span> <span class="st">"AICc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Fixed terms are "cond((Int))" and "disp((Int))"</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(dredge_turf_25_nndr, delta <span class="sc">&lt;=</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Global model call: glmmTMB(formula = turf_length ~ rugo_mean + slope_mean + sapr + 
    std_curve + plan_curve + tpi, data = df25_nndr, family = tweedie(link = "log"), 
    ziformula = ~0, dispformula = ~1)
---
Model selection table 
      cnd((Int)) dsp((Int)) cnd(pln_crv) cnd(rug_men) cnd(spr) cnd(slp_men)
3         0.9459          +                   -0.8328                      
4         0.9404          +      -0.2050      -0.8907                      
8         0.8719          +      -0.4133      -0.6783 -0.52260             
35        0.9320          +                   -0.8366                      
20        0.9359          +      -0.1698      -0.8761                      
11        0.9083          +                   -0.9647              0.053270
16        0.7402          +      -0.4484      -0.8252 -0.86610     0.127400
24        0.8741          +      -0.3646      -0.6857 -0.47590             
36        0.9387          +      -0.1936      -0.8879                      
12        0.9414          +      -0.2062      -0.8873             -0.001562
27        0.9188          +                   -0.8985              0.028040
51        0.9376          +                   -0.8289                      
40        0.8726          +      -0.4498      -0.6756 -0.54620             
6         1.0600          +      -0.5304              -0.93860             
43        0.9071          +                   -0.9292              0.037620
39        0.9251          +                   -0.8101 -0.05115             
NA                                                                         
NA.1                                                                       
NA.2                                                                       
NA.3                                                                       
NA.4                                                                       
NA.5                                                                       
NA.6                                                                       
NA.7                                                                       
NA.8                                                                       
NA.9                                                                       
NA.10                                                                      
NA.11                                                                      
NA.12                                                                      
NA.13                                                                      
      cnd(std_crv)  cnd(tpi) df   logLik  AICc delta
3                             4 -114.692 238.1  0.00
4                             5 -113.704 238.5  0.40
8                             6 -112.691 238.9  0.84
35                  0.088930  5 -114.275 239.6  1.54
20         0.05774            6 -113.211 240.0  1.88
11                            5 -114.474 240.0  1.94
16                            7 -112.052 240.2  2.12
24         0.04693            7 -112.371 240.9  2.76
36                  0.013250  6 -113.698 241.0  2.85
12                            6 -113.703 241.0  2.86
27         0.06850            6 -113.794 241.1  3.05
51         0.07146  0.004958  6 -113.852 241.3  3.16
40                 -0.030350  7 -112.659 241.4  3.33
6                             5 -115.301 241.7  3.59
43                  0.079000  6 -114.171 241.9  3.80
39                  0.095020  6 -114.257 242.1  3.97
NA                                                  
NA.1                                                
NA.2                                                
NA.3                                                
NA.4                                                
NA.5                                                
NA.6                                                
NA.7                                                
NA.8                                                
NA.9                                                
NA.10                                               
NA.11                                               
NA.12                                               
NA.13                                               
Models ranked by AICc(x) </code></pre>
</div>
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select the best model:</span></span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a>best_turf_25_nndr <span class="ot">&lt;-</span> <span class="fu">get.models</span>(dredge_turf_25_nndr, <span class="at">subset =</span> <span class="dv">1</span>)[[<span class="dv">1</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
</div>
</section>
<section id="turf-length-morphometrics-50cm" class="level2">
<h2 class="anchored" data-anchor-id="turf-length-morphometrics-50cm">Turf Length ~ Morphometrics (50cm)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a>turf_50 <span class="ot">&lt;-</span> <span class="fu">glmmTMB</span>(turf_length <span class="sc">~</span> rugo_mean <span class="sc">+</span> slope_mean <span class="sc">+</span> sapr <span class="sc">+</span> std_curve <span class="sc">+</span> plan_curve <span class="sc">+</span> tpi,</span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a>                  <span class="at">data =</span> df50, <span class="at">family =</span> <span class="fu">tweedie</span>(<span class="at">link =</span><span class="st">"log"</span>))</span>
<span id="cb129-3"><a href="#cb129-3" aria-hidden="true" tabindex="-1"></a>dredge_50_turf <span class="ot">&lt;-</span> <span class="fu">dredge</span>(turf_50, <span class="at">rank =</span> <span class="st">"AICc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Fixed terms are "cond((Int))" and "disp((Int))"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(dredge_50_turf, delta <span class="sc">&lt;=</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Global model call: glmmTMB(formula = turf_length ~ rugo_mean + slope_mean + sapr + 
    std_curve + plan_curve + tpi, data = df50, family = tweedie(link = "log"), 
    ziformula = ~0, dispformula = ~1)
---
Model selection table 
   cnd((Int)) dsp((Int)) cnd(pln_crv) cnd(rug_men) cnd(spr) cnd(slp_men)
3       1.264          +                   -0.1570                      
9       1.270          +                                        -0.15790
11      1.267          +                   -0.1075              -0.09209
19      1.263          +                   -0.1567                      
4       1.264          +     -0.03089      -0.1629                      
35      1.263          +                   -0.1551                      
7       1.263          +                   -0.1756  0.02636             
25      1.270          +                                        -0.16290
10      1.271          +     -0.05315                           -0.17440
41      1.270          +                                        -0.15930
27      1.267          +                   -0.1038              -0.09867
12      1.268          +     -0.05575      -0.1090              -0.10840
15      1.268          +                   -0.1394  0.05791     -0.10810
13      1.270          +                           -0.01128     -0.15100
43      1.267          +                   -0.1030              -0.09551
   cnd(std_crv) cnd(tpi) df  logLik  AICc delta weight
3                         4 -73.207 154.9  0.00  0.170
9                         4 -73.558 155.6  0.70  0.120
11                        5 -72.553 155.9  0.95  0.106
19      0.03758           5 -73.006 156.8  1.86  0.067
4                         5 -73.113 157.0  2.07  0.060
35               0.02045  5 -73.144 157.1  2.14  0.059
7                         5 -73.156 157.1  2.16  0.058
25      0.04833           5 -73.204 157.2  2.26  0.055
10                        5 -73.285 157.3  2.42  0.051
41               0.03533  5 -73.354 157.5  2.56  0.048
27      0.04525           6 -72.264 157.6  2.70  0.044
12                        6 -72.268 157.6  2.71  0.044
15                        6 -72.323 157.7  2.82  0.042
13                        5 -73.546 157.9  2.94  0.039
43               0.02652  6 -72.448 158.0  3.07  0.037
Models ranked by AICc(x) </code></pre>
</div>
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select the best model:</span></span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a>best_turf_50 <span class="ot">&lt;-</span> <span class="fu">get.models</span>(dredge_50_turf, <span class="at">subset =</span> <span class="dv">15</span>)[[<span class="dv">1</span>]]</span>
<span id="cb133-3"><a href="#cb133-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb133-4"><a href="#cb133-4" aria-hidden="true" tabindex="-1"></a><span class="co"># NO NNDR:</span></span>
<span id="cb133-5"><a href="#cb133-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb133-6"><a href="#cb133-6" aria-hidden="true" tabindex="-1"></a>turf_50_nndr <span class="ot">&lt;-</span> <span class="fu">glmmTMB</span>(turf_length <span class="sc">~</span> rugo_mean <span class="sc">+</span> slope_mean <span class="sc">+</span> sapr <span class="sc">+</span> std_curve <span class="sc">+</span> plan_curve <span class="sc">+</span> tpi,</span>
<span id="cb133-7"><a href="#cb133-7" aria-hidden="true" tabindex="-1"></a>                        <span class="at">data =</span> df50_nndr, <span class="at">family =</span> <span class="fu">tweedie</span>(<span class="at">link =</span><span class="st">"log"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a>dredge_50_turf_nndr <span class="ot">&lt;-</span> <span class="fu">dredge</span>(turf_50_nndr, <span class="at">rank =</span> <span class="st">"AICc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Fixed terms are "cond((Int))" and "disp((Int))"</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(dredge_50_turf_nndr, delta <span class="sc">&lt;=</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Global model call: glmmTMB(formula = turf_length ~ rugo_mean + slope_mean + sapr + 
    std_curve + plan_curve + tpi, data = df50_nndr, family = tweedie(link = "log"), 
    ziformula = ~0, dispformula = ~1)
---
Model selection table 
      cnd((Int)) dsp((Int)) cnd(pln_crv) cnd(rug_men) cnd(spr) cnd(slp_men)
12        1.0830          +      -0.5699      -0.5474               -0.1922
8         0.9250          +      -0.5013      -0.5424  -0.5404             
16        1.0150          +      -0.6130      -0.3775  -0.4328      -0.1546
46        1.1390          +      -0.6319               -0.5012      -0.2197
10        1.3280          +      -0.5806                            -0.2697
6         1.1060          +      -0.4897               -0.7508             
44        1.0730          +      -0.5745      -0.5153               -0.2191
42        1.3010          +      -0.5834                            -0.2950
4         0.9909          +      -0.4057      -0.8105                      
30        1.1510          +      -0.6303               -0.5271      -0.1985
48        1.0110          +      -0.6135      -0.3624  -0.4004      -0.1810
40        0.9130          +      -0.4922      -0.5500  -0.5333             
62        1.1250          +      -0.6465               -0.5220      -0.2186
28        1.0850          +      -0.5694      -0.5365               -0.1997
24        0.9251          +      -0.5032      -0.5411  -0.5429             
26        1.3240          +      -0.5786                            -0.2777
32        1.0180          +      -0.6110      -0.3755  -0.4230      -0.1590
38        1.0980          +      -0.4816               -0.7486             
22        1.1060          +      -0.4935               -0.7534             
60        1.0640          +      -0.5802      -0.5221               -0.2196
64        0.9941          +      -0.6271      -0.3658  -0.4243      -0.1793
20        0.9903          +      -0.4047      -0.8108                      
NA                                                                         
NA.1                                                                       
NA.2                                                                       
NA.3                                                                       
NA.4                                                                       
NA.5                                                                       
NA.6                                                                       
NA.7                                                                       
NA.8                                                                       
NA.9                                                                       
NA.10                                                                      
NA.11                                                                      
NA.12                                                                      
NA.13                                                                      
      cnd(std_crv) cnd(tpi) df   logLik  AICc delta
12                           6 -112.036 237.6  0.00
8                            6 -112.071 237.7  0.07
16                           7 -110.865 237.8  0.22
46                  0.19220  7 -110.888 237.9  0.26
10                           5 -113.534 238.2  0.53
6                            5 -113.618 238.3  0.70
44                  0.20650  7 -111.272 238.7  1.03
42                  0.22960  6 -112.657 238.9  1.24
4                            5 -113.952 239.0  1.37
30         0.02993           7 -111.497 239.1  1.48
48                  0.18390  8 -110.254 239.3  1.65
40                  0.11290  7 -111.848 239.8  2.18
62        -0.13450  0.32910  8 -110.573 239.9  2.29
28         0.05432           7 -111.927 240.0  2.34
24        -0.01131           7 -112.066 240.2  2.62
26         0.06865           6 -113.371 240.3  2.67
32         0.02625           8 -110.840 240.4  2.82
38                  0.09704  6 -113.470 240.5  2.87
22        -0.02103           6 -113.603 240.8  3.13
60        -0.10790  0.31880  8 -111.072 240.9  3.29
64        -0.13970  0.32650  9 -109.911 241.4  3.73
20         0.01200           6 -113.946 241.4  3.82
NA                                                 
NA.1                                               
NA.2                                               
NA.3                                               
NA.4                                               
NA.5                                               
NA.6                                               
NA.7                                               
NA.8                                               
NA.9                                               
NA.10                                              
NA.11                                              
NA.12                                              
NA.13                                              
Models ranked by AICc(x) </code></pre>
</div>
<div class="sourceCode cell-code" id="cb163"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select the best model:</span></span>
<span id="cb163-2"><a href="#cb163-2" aria-hidden="true" tabindex="-1"></a>best_turf_50_nndr <span class="ot">&lt;-</span> <span class="fu">get.models</span>(dredge_50_turf_nndr, <span class="at">subset =</span> <span class="dv">1</span>)[[<span class="dv">1</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="turf-length-morphometrics-100cm" class="level2">
<h2 class="anchored" data-anchor-id="turf-length-morphometrics-100cm">Turf Length ~ Morphometrics (100cm)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb164"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a>turf_100 <span class="ot">&lt;-</span> <span class="fu">glmmTMB</span>(turf_length <span class="sc">~</span> rugo_mean <span class="sc">+</span> slope_mean <span class="sc">+</span> sapr <span class="sc">+</span> std_curve <span class="sc">+</span> plan_curve <span class="sc">+</span> tpi,</span>
<span id="cb164-2"><a href="#cb164-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">data =</span> df100, <span class="at">family =</span> <span class="fu">tweedie</span>(<span class="at">link =</span><span class="st">"log"</span>))</span>
<span id="cb164-3"><a href="#cb164-3" aria-hidden="true" tabindex="-1"></a>dredge_100_turf <span class="ot">&lt;-</span> <span class="fu">dredge</span>(turf_100, <span class="at">rank =</span> <span class="st">"AICc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Fixed terms are "cond((Int))" and "disp((Int))"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb166"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(dredge_100_turf, delta <span class="sc">&lt;=</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Global model call: glmmTMB(formula = turf_length ~ rugo_mean + slope_mean + sapr + 
    std_curve + plan_curve + tpi, data = df100, family = tweedie(link = "log"), 
    ziformula = ~0, dispformula = ~1)
---
Model selection table 
   cnd((Int)) dsp((Int)) cnd(pln_crv) cnd(rug_men) cnd(spr) cnd(slp_men)
10      1.265          +      -0.1998                            -0.1846
12      1.250          +      -0.2102      -0.1232               -0.1364
9       1.257          +                                         -0.1591
42      1.268          +      -0.1976                            -0.1810
4       1.239          +      -0.1755      -0.2385                      
14      1.265          +      -0.2186              -0.03304      -0.1733
11      1.243          +                   -0.1132               -0.1132
26      1.264          +      -0.1977                            -0.1844
3       1.234          +                   -0.2135                      
41      1.260          +                                         -0.1553
25      1.253          +                                         -0.1594
44      1.253          +      -0.2077      -0.1204               -0.1342
13      1.257          +                            0.01388      -0.1648
16      1.249          +      -0.2027      -0.1340  0.01511      -0.1374
28      1.249          +      -0.2052      -0.1246               -0.1351
58      1.288          +      -0.2458                            -0.1784
15      1.239          +                   -0.1620  0.06737      -0.1217
   cnd(std_crv) cnd(tpi) df  logLik  AICc delta weight
10                        5 -71.034 152.8  0.00  0.176
12                        6 -70.384 153.9  1.02  0.106
9                         4 -72.710 153.9  1.09  0.102
42              -0.11020  6 -70.880 154.8  2.01  0.064
4                         5 -72.094 155.0  2.12  0.061
14                        6 -70.941 155.0  2.14  0.060
11                        5 -72.160 155.1  2.25  0.057
26     -0.01362           6 -71.032 155.2  2.32  0.055
3                         4 -73.355 155.2  2.38  0.054
41              -0.12770  5 -72.519 155.8  2.97  0.040
25     -0.11920           5 -72.555 155.9  3.04  0.038
44              -0.09963  7 -70.263 156.0  3.16  0.036
13                        5 -72.691 156.2  3.32  0.034
16                        7 -70.370 156.2  3.38  0.033
28     -0.03455           7 -70.371 156.2  3.38  0.032
58      0.34880 -0.38730  7 -70.548 156.6  3.73  0.027
15                        6 -71.842 156.8  3.94  0.025
Models ranked by AICc(x) </code></pre>
</div>
<div class="sourceCode cell-code" id="cb168"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select the best model:</span></span>
<span id="cb168-2"><a href="#cb168-2" aria-hidden="true" tabindex="-1"></a>best_turf_100 <span class="ot">&lt;-</span> <span class="fu">get.models</span>(dredge_100_turf, <span class="at">subset =</span> <span class="dv">2</span>)[[<span class="dv">1</span>]]</span>
<span id="cb168-3"><a href="#cb168-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb168-4"><a href="#cb168-4" aria-hidden="true" tabindex="-1"></a><span class="co"># NO NNDR:</span></span>
<span id="cb168-5"><a href="#cb168-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb168-6"><a href="#cb168-6" aria-hidden="true" tabindex="-1"></a>turf_100_nndr <span class="ot">&lt;-</span> <span class="fu">glmmTMB</span>(turf_length <span class="sc">~</span> rugo_mean <span class="sc">+</span> slope_mean <span class="sc">+</span> sapr <span class="sc">+</span> std_curve <span class="sc">+</span> plan_curve <span class="sc">+</span> tpi,</span>
<span id="cb168-7"><a href="#cb168-7" aria-hidden="true" tabindex="-1"></a>                        <span class="at">data =</span> df100_nndr, <span class="at">family =</span> <span class="fu">tweedie</span>(<span class="at">link =</span><span class="st">"log"</span>))</span>
<span id="cb168-8"><a href="#cb168-8" aria-hidden="true" tabindex="-1"></a>dredge_100_turf_nndr <span class="ot">&lt;-</span> <span class="fu">dredge</span>(turf_100_nndr, <span class="at">rank =</span> <span class="st">"AICc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Fixed terms are "cond((Int))" and "disp((Int))"</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')
Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; false convergence (8). See vignette('troubleshooting'),
help('diagnose')</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in finalizeTMB(TMBStruc, obj, fit, h, data.tmb.old): Model convergence
problem; non-positive-definite Hessian matrix. See vignette('troubleshooting')</code></pre>
</div>
<div class="sourceCode cell-code" id="cb194"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb194-1"><a href="#cb194-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(dredge_100_turf_nndr, delta <span class="sc">&lt;=</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Global model call: glmmTMB(formula = turf_length ~ rugo_mean + slope_mean + sapr + 
    std_curve + plan_curve + tpi, data = df100_nndr, family = tweedie(link = "log"), 
    ziformula = ~0, dispformula = ~1)
---
Model selection table 
      cnd((Int)) dsp((Int)) cnd(pln_crv) cnd(rug_men) cnd(spr) cnd(slp_men)
14         1.176          +      -0.4263               -0.5007     -0.08317
8          1.011          +      -0.3808      -0.4104  -0.4776             
38         1.173          +      -0.3855               -0.6133             
4          1.028          +      -0.3731      -0.7408                      
10         1.344          +      -0.4389                           -0.13690
46         1.181          +      -0.4351               -0.5324     -0.06770
7          1.043          +                   -0.2963  -0.4519             
16         1.084          +      -0.4203      -0.2370  -0.4609     -0.05878
2          1.377          +      -0.3095                                   
40         1.058          +      -0.3953      -0.3041  -0.5218             
54         1.180          +      -0.4038               -0.6308             
30         1.176          +      -0.4257               -0.5031     -0.08101
21         1.154          +                            -0.5349             
12         1.118          +      -0.4244      -0.5111              -0.07531
1          1.351          +                                                
42         1.353          +      -0.4428                           -0.12990
26         1.345          +      -0.4382                           -0.13550
NA                                                                         
NA.1                                                                       
NA.2                                                                       
NA.3                                                                       
NA.4                                                                       
NA.5                                                                       
NA.6                                                                       
NA.7                                                                       
NA.8                                                                       
NA.9                                                                       
NA.10                                                                      
NA.11                                                                      
NA.12                                                                      
NA.13                                                                      
NA.14                                                                      
NA.15                                                                      
NA.16                                                                      
NA.17                                                                      
      cnd(std_crv) cnd(tpi) df   logLik  AICc delta
14                           6 -114.407 242.4  0.00
8                            6 -114.495 242.5  0.18
38                  -0.3811  6 -114.532 242.6  0.25
4                            5 -116.124 243.3  0.97
10                           5 -116.372 243.8  1.47
46                  -0.2788  7 -114.179 244.5  2.10
7                            5 -116.771 244.6  2.26
16                           7 -114.294 244.7  2.33
2                            4 -117.998 244.7  2.34
40                  -0.2691  7 -114.300 244.7  2.34
54         0.32220  -0.6777  7 -114.347 244.8  2.44
30        -0.06302           7 -114.389 244.9  2.52
21        -0.08132           5 -116.980 245.1  2.68
12                           6 -115.801 245.2  2.79
1                            3 -119.407 245.2  2.87
42                  -0.1555  6 -116.308 246.2  3.80
26        -0.04582           6 -116.364 246.3  3.91
NA                                                 
NA.1                                               
NA.2                                               
NA.3                                               
NA.4                                               
NA.5                                               
NA.6                                               
NA.7                                               
NA.8                                               
NA.9                                               
NA.10                                              
NA.11                                              
NA.12                                              
NA.13                                              
NA.14                                              
NA.15                                              
NA.16                                              
NA.17                                              
Models ranked by AICc(x) </code></pre>
</div>
<div class="sourceCode cell-code" id="cb196"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb196-1"><a href="#cb196-1" aria-hidden="true" tabindex="-1"></a>best_turf_100_nndr <span class="ot">&lt;-</span> <span class="fu">get.models</span>(dredge_100_turf_nndr, <span class="at">subset =</span> <span class="dv">4</span>)[[<span class="dv">1</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="comparing-model-results-at-each-scale" class="level2">
<h2 class="anchored" data-anchor-id="comparing-model-results-at-each-scale">Comparing Model Results at each scale:</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb197"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb197-1"><a href="#cb197-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sediment Depth (w/ and w/o NNDR)</span></span>
<span id="cb197-2"><a href="#cb197-2" aria-hidden="true" tabindex="-1"></a><span class="fu">AICtab</span>(best_sed_25, best_sed_50, best_sed_100)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             dAIC df
best_sed_100 0.0  4 
best_sed_50  2.2  7 
best_sed_25  8.9  5 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb199"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb199-1"><a href="#cb199-1" aria-hidden="true" tabindex="-1"></a><span class="fu">AICtab</span>(best_sed_25_nndr, best_sed_50_nndr, best_sed_100_nndr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                  dAIC df
best_sed_50_nndr  0.0  6 
best_sed_100_nndr 1.1  4 
best_sed_25_nndr  5.1  6 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb201"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb201-1"><a href="#cb201-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Turf Length (w/ and w/o NNDR)</span></span>
<span id="cb201-2"><a href="#cb201-2" aria-hidden="true" tabindex="-1"></a><span class="fu">AICtab</span>(best_turf_25, best_turf_50, best_turf_100)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>              dAIC df
best_turf_100 0.0  6 
best_turf_50  4.1  6 
best_turf_25  5.2  4 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb203"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb203-1"><a href="#cb203-1" aria-hidden="true" tabindex="-1"></a><span class="fu">AICtab</span>(best_turf_25_nndr, best_turf_50_nndr, best_turf_100_nndr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                   dAIC df
best_turf_50_nndr  0.0  6 
best_turf_25_nndr  1.3  4 
best_turf_100_nndr 6.2  5 </code></pre>
</div>
</div>
</section>
<section id="plotting-marginal-effects-for-the-best-scale-without-nndr" class="level2">
<h2 class="anchored" data-anchor-id="plotting-marginal-effects-for-the-best-scale-without-nndr">Plotting Marginal Effects for the best scale (without NNDR):</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb205"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb205-1"><a href="#cb205-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Sediment Depth ---------------</span></span>
<span id="cb205-2"><a href="#cb205-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Best model was 50cm: sediment depth ~ mean slope</span></span>
<span id="cb205-3"><a href="#cb205-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb205-4"><a href="#cb205-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Slope: </span></span>
<span id="cb205-5"><a href="#cb205-5" aria-hidden="true" tabindex="-1"></a>orig_breaks <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">35</span>, <span class="dv">40</span>, <span class="dv">45</span>, <span class="dv">50</span>)   <span class="co"># original values you want</span></span>
<span id="cb205-6"><a href="#cb205-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb205-7"><a href="#cb205-7" aria-hidden="true" tabindex="-1"></a>z_breaks <span class="ot">&lt;-</span> (orig_breaks <span class="sc">-</span> <span class="fl">39.33403</span>) <span class="sc">/</span> <span class="fl">6.613804</span></span>
<span id="cb205-8"><a href="#cb205-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb205-9"><a href="#cb205-9" aria-hidden="true" tabindex="-1"></a>pred_sed_slope_mean <span class="ot">&lt;-</span> <span class="fu">ggpredict</span>(best_sed_50_nndr, <span class="at">terms =</span> <span class="st">"slope_mean"</span>) <span class="co">#[-0.72:4.8549,by= 0.1]</span></span>
<span id="cb205-10"><a href="#cb205-10" aria-hidden="true" tabindex="-1"></a>sed_slope <span class="ot">&lt;-</span> <span class="fu">plot</span>(pred_sed_slope_mean) <span class="sc">+</span></span>
<span id="cb205-11"><a href="#cb205-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">" "</span>) <span class="sc">+</span></span>
<span id="cb205-12"><a href="#cb205-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>, <span class="fl">1.4074</span>)) <span class="sc">+</span></span>
<span id="cb205-13"><a href="#cb205-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()<span class="sc">+</span></span>
<span id="cb205-14"><a href="#cb205-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Predicted Sediment Depth"</span>,</span>
<span id="cb205-15"><a href="#cb205-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Mean Slope"</span>)<span class="sc">+</span></span>
<span id="cb205-16"><a href="#cb205-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb205-17"><a href="#cb205-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> z_breaks,   </span>
<span id="cb205-18"><a href="#cb205-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="cf">function</span>(z) <span class="fu">round</span>(z <span class="sc">*</span> <span class="fl">6.613804</span> <span class="sc">+</span> <span class="fl">39.33403</span>, <span class="dv">2</span>))<span class="sc">+</span></span>
<span id="cb205-19"><a href="#cb205-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>), </span>
<span id="cb205-20"><a href="#cb205-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">colour =</span> <span class="st">"black"</span>), </span>
<span id="cb205-21"><a href="#cb205-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">colour =</span> <span class="st">"black"</span>),</span>
<span id="cb205-22"><a href="#cb205-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">hjust=</span><span class="fl">0.5</span>),</span>
<span id="cb205-23"><a href="#cb205-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb205-24"><a href="#cb205-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb205-25"><a href="#cb205-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">'none'</span>,</span>
<span id="cb205-26"><a href="#cb205-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>),</span>
<span id="cb205-27"><a href="#cb205-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>),</span>
<span id="cb205-28"><a href="#cb205-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>))</span>
<span id="cb205-29"><a href="#cb205-29" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(sed_slope)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="BEM_results_draft1_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb206"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb206-1"><a href="#cb206-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Turf Length ---------------</span></span>
<span id="cb206-2"><a href="#cb206-2" aria-hidden="true" tabindex="-1"></a><span class="co"># best model was 50cm : turf length ~ planform curvature + mean slope </span></span>
<span id="cb206-3"><a href="#cb206-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb206-4"><a href="#cb206-4" aria-hidden="true" tabindex="-1"></a><span class="co"># planform curvature: </span></span>
<span id="cb206-5"><a href="#cb206-5" aria-hidden="true" tabindex="-1"></a>orig_breaks <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">75000</span>, <span class="sc">-</span><span class="dv">50000</span>, <span class="sc">-</span><span class="dv">25000</span>, <span class="dv">0</span>, <span class="dv">25000</span>)</span>
<span id="cb206-6"><a href="#cb206-6" aria-hidden="true" tabindex="-1"></a>z_breaks <span class="ot">&lt;-</span> (orig_breaks <span class="sc">-</span> <span class="sc">-</span><span class="fl">6270.369</span>) <span class="sc">/</span> <span class="fl">39516.62</span></span>
<span id="cb206-7"><a href="#cb206-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb206-8"><a href="#cb206-8" aria-hidden="true" tabindex="-1"></a>pred_turf_planform <span class="ot">&lt;-</span> <span class="fu">ggpredict</span>(best_turf_50_nndr, <span class="at">terms =</span> <span class="st">"plan_curve"</span>) <span class="co">#[-0.72:4.8549,by= 0.1]</span></span>
<span id="cb206-9"><a href="#cb206-9" aria-hidden="true" tabindex="-1"></a>turf_planform <span class="ot">&lt;-</span> <span class="fu">plot</span>(pred_turf_planform) <span class="sc">+</span></span>
<span id="cb206-10"><a href="#cb206-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">" "</span>) <span class="sc">+</span></span>
<span id="cb206-11"><a href="#cb206-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">15</span>)) <span class="sc">+</span></span>
<span id="cb206-12"><a href="#cb206-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()<span class="sc">+</span></span>
<span id="cb206-13"><a href="#cb206-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Predicted Turf Length"</span>,</span>
<span id="cb206-14"><a href="#cb206-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Planform Curvature"</span>)<span class="sc">+</span></span>
<span id="cb206-15"><a href="#cb206-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb206-16"><a href="#cb206-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> z_breaks,   </span>
<span id="cb206-17"><a href="#cb206-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="cf">function</span>(z) <span class="fu">round</span>(z <span class="sc">*</span> <span class="fl">39516.62</span> <span class="sc">+</span> <span class="sc">-</span><span class="fl">6270.369</span>, <span class="dv">2</span>))<span class="sc">+</span></span>
<span id="cb206-18"><a href="#cb206-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>), </span>
<span id="cb206-19"><a href="#cb206-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">colour =</span> <span class="st">"black"</span>), </span>
<span id="cb206-20"><a href="#cb206-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">colour =</span> <span class="st">"black"</span>),</span>
<span id="cb206-21"><a href="#cb206-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">hjust=</span><span class="fl">0.5</span>),</span>
<span id="cb206-22"><a href="#cb206-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb206-23"><a href="#cb206-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb206-24"><a href="#cb206-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">'none'</span>,</span>
<span id="cb206-25"><a href="#cb206-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>),</span>
<span id="cb206-26"><a href="#cb206-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>),</span>
<span id="cb206-27"><a href="#cb206-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>))</span>
<span id="cb206-28"><a href="#cb206-28" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(turf_planform)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="BEM_results_draft1_files/figure-html/unnamed-chunk-10-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb207"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb207-1"><a href="#cb207-1" aria-hidden="true" tabindex="-1"></a><span class="co"># slope:</span></span>
<span id="cb207-2"><a href="#cb207-2" aria-hidden="true" tabindex="-1"></a>orig_breaks <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">35</span>, <span class="dv">40</span>, <span class="dv">45</span>, <span class="dv">50</span>)   <span class="co"># original values you want</span></span>
<span id="cb207-3"><a href="#cb207-3" aria-hidden="true" tabindex="-1"></a>z_breaks <span class="ot">&lt;-</span> (orig_breaks <span class="sc">-</span> <span class="fl">39.33403</span>) <span class="sc">/</span> <span class="fl">6.613804</span></span>
<span id="cb207-4"><a href="#cb207-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb207-5"><a href="#cb207-5" aria-hidden="true" tabindex="-1"></a>pred_turf_slope_mean <span class="ot">&lt;-</span> <span class="fu">ggpredict</span>(best_turf_50_nndr, <span class="at">terms =</span> <span class="st">"slope_mean"</span>)</span>
<span id="cb207-6"><a href="#cb207-6" aria-hidden="true" tabindex="-1"></a>turf_slope <span class="ot">&lt;-</span> <span class="fu">plot</span>(pred_turf_slope_mean) <span class="sc">+</span></span>
<span id="cb207-7"><a href="#cb207-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">" "</span>) <span class="sc">+</span></span>
<span id="cb207-8"><a href="#cb207-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">15</span>)) <span class="sc">+</span></span>
<span id="cb207-9"><a href="#cb207-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()<span class="sc">+</span></span>
<span id="cb207-10"><a href="#cb207-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">" "</span>,</span>
<span id="cb207-11"><a href="#cb207-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Mean Slope"</span>)<span class="sc">+</span></span>
<span id="cb207-12"><a href="#cb207-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb207-13"><a href="#cb207-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> z_breaks,   </span>
<span id="cb207-14"><a href="#cb207-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="cf">function</span>(z) <span class="fu">round</span>(z <span class="sc">*</span> <span class="fl">6.613804</span> <span class="sc">+</span> <span class="fl">39.33403</span>, <span class="dv">1</span>))<span class="sc">+</span></span>
<span id="cb207-15"><a href="#cb207-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>), </span>
<span id="cb207-16"><a href="#cb207-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">colour =</span> <span class="st">"black"</span>), </span>
<span id="cb207-17"><a href="#cb207-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">colour =</span> <span class="st">"black"</span>),</span>
<span id="cb207-18"><a href="#cb207-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">hjust=</span><span class="fl">0.5</span>),</span>
<span id="cb207-19"><a href="#cb207-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb207-20"><a href="#cb207-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb207-21"><a href="#cb207-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">'none'</span>,</span>
<span id="cb207-22"><a href="#cb207-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>),</span>
<span id="cb207-23"><a href="#cb207-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>),</span>
<span id="cb207-24"><a href="#cb207-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>))</span>
<span id="cb207-25"><a href="#cb207-25" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(turf_slope)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="BEM_results_draft1_files/figure-html/unnamed-chunk-10-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="using-more-biological-data-abundance-of-lsat" class="level1">
<h1>Using More Biological Data: Abundance of LSAT</h1>
<p>These are new analyses I’ve done for BEM (and beyond). To better understand the nature of the data, I made a diagram below. There is two datasets for each site, one for the LSAT data, which is measured within a 5cm x 5cm “mini” plot at a random spot around each nail (labelled with the green dots). This has the data for sediment depth and turf length and additionally has percent cover of different organisms (CCA, sponge, macroalgae, corals etc).</p>
<p>In addition to these mini plots, Benthic abundance and diversity is taken at each nail along the transect (labelled with orange dots). This data does not have LSAT metrics, but it does have LSAT depth, percent cover of LSAT, and percent cover of different organisms (same as above functional groups).</p>
<p>These biological datasets have not yet been QAQC’ed for 2025, but have for 2023 which is when I first went out for South Canyon. Here I create models for predicting LSAT abundance within a 25cm plot using the morphometrics described previously at each scale.</p>
<p><a href="LSAT%20field%20methods%20example.jpg">LSAT field methods example</a></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb208"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb208-1"><a href="#cb208-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter master dataset for just South Canyon: </span></span>
<span id="cb208-2"><a href="#cb208-2" aria-hidden="true" tabindex="-1"></a>SC_og <span class="ot">&lt;-</span> scaled_master <span class="sc">%&gt;%</span></span>
<span id="cb208-3"><a href="#cb208-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(site_code <span class="sc">==</span> <span class="st">"SC"</span>)</span>
<span id="cb208-4"><a href="#cb208-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb208-5"><a href="#cb208-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Import biological dataset: </span></span>
<span id="cb208-6"><a href="#cb208-6" aria-hidden="true" tabindex="-1"></a>SC_bio <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/hanna/Florida International University/Coral Reef Fisheries - 2. Hannah-Marie Lamle/data/raw/LSAT/4. Biological metrics/1_Benthic_Com_FL_SED_2023-24.csv"</span>)</span>
<span id="cb208-7"><a href="#cb208-7" aria-hidden="true" tabindex="-1"></a>SC_bio <span class="ot">&lt;-</span> SC_bio <span class="sc">%&gt;%</span></span>
<span id="cb208-8"><a href="#cb208-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Site <span class="sc">==</span> <span class="st">"South Canyon"</span> <span class="sc">&amp;</span> Season <span class="sc">==</span> <span class="st">"Fall"</span>) </span>
<span id="cb208-9"><a href="#cb208-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb208-10"><a href="#cb208-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb208-11"><a href="#cb208-11" aria-hidden="true" tabindex="-1"></a>SC_master <span class="ot">&lt;-</span> <span class="fu">cbind</span>(SC_og, SC_bio) <span class="sc">%&gt;%</span></span>
<span id="cb208-12"><a href="#cb208-12" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Season, <span class="sc">-</span>Site, <span class="sc">-</span>Month, <span class="sc">-</span>Day, <span class="sc">-</span>Year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="abundance-25cm-plot-morphometrics-25cm" class="level2">
<h2 class="anchored" data-anchor-id="abundance-25cm-plot-morphometrics-25cm">Abundance (25cm plot) ~ Morphometrics (25cm)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb209"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb209-1"><a href="#cb209-1" aria-hidden="true" tabindex="-1"></a>SC_25 <span class="ot">&lt;-</span> SC_master <span class="sc">%&gt;%</span></span>
<span id="cb209-2"><a href="#cb209-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(scale_cm <span class="sc">==</span> <span class="dv">25</span>)</span>
<span id="cb209-3"><a href="#cb209-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb209-4"><a href="#cb209-4" aria-hidden="true" tabindex="-1"></a>abundance_25 <span class="ot">&lt;-</span> <span class="fu">glmmTMB</span>(LSAT_Abundance <span class="sc">~</span> rugo_mean <span class="sc">+</span> slope_mean <span class="sc">+</span> sapr <span class="sc">+</span> std_curve <span class="sc">+</span> plan_curve <span class="sc">+</span> tpi,</span>
<span id="cb209-5"><a href="#cb209-5" aria-hidden="true" tabindex="-1"></a>                  <span class="at">data =</span> SC_25, </span>
<span id="cb209-6"><a href="#cb209-6" aria-hidden="true" tabindex="-1"></a>                  <span class="at">family =</span> <span class="fu">tweedie</span>(<span class="at">link =</span><span class="st">"log"</span>),</span>
<span id="cb209-7"><a href="#cb209-7" aria-hidden="true" tabindex="-1"></a>                  <span class="at">na.action =</span> <span class="st">"na.fail"</span>)</span>
<span id="cb209-8"><a href="#cb209-8" aria-hidden="true" tabindex="-1"></a>abundance_25 <span class="ot">&lt;-</span> <span class="fu">dredge</span>(abundance_25, <span class="at">rank =</span> <span class="st">"AICc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Fixed terms are "cond((Int))" and "disp((Int))"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb211"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb211-1"><a href="#cb211-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(abundance_25, delta <span class="sc">&lt;=</span> <span class="dv">4</span>) <span class="co"># null model is best model for LSAT abundance in a 25cm plot and 25cm scale</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Global model call: glmmTMB(formula = LSAT_Abundance ~ rugo_mean + slope_mean + sapr + 
    std_curve + plan_curve + tpi, data = SC_25, family = tweedie(link = "log"), 
    na.action = "na.fail", ziformula = ~0, dispformula = ~1)
---
Model selection table 
   cnd((Int)) dsp((Int)) cnd(pln_crv) cnd(rug_men) cnd(spr) cnd(slp_men)
5      2.2080          +                              1.719             
7      1.5500          +                    -2.129    1.802             
18     1.9820          +     -0.98310                                   
21     2.2570          +                              1.959             
23     1.6000          +                    -2.122    2.067             
39     1.5960          +                    -2.198    2.126             
20     1.3660          +     -0.98550       -1.941                      
37     2.2660          +                              1.983             
29     2.9430          +                              3.867    -1.009000
34     2.0120          +     -0.93550                                   
1      2.0790          +                                                
2      2.0010          +     -0.53410                                   
36     1.3570          +     -0.95600       -2.066                      
11     0.9753          +                    -2.441              0.667300
13     2.4760          +                              2.436    -0.406600
3      1.4670          +                    -1.982                      
45     2.8480          +                              3.593    -0.845300
9      1.8030          +                                        0.521700
22     2.1200          +     -0.56400                 1.070             
31     2.2200          +                    -1.707    3.423    -0.729300
6      2.2310          +      0.08114                 1.862             
4      1.3650          +     -0.54850       -2.021                      
8      1.5920          +      0.17430       -2.157    2.118             
15     1.6590          +                    -2.055    2.034    -0.134100
50     1.9730          +     -0.95640                                   
24     1.5090          +     -0.46450       -2.033    1.311             
53     2.2440          +                              1.911             
26     1.9790          +     -0.97990                           0.005424
17     2.1010          +                                                
   cnd(std_crv) cnd(tpi) df  logLik  AICc delta weight
5                         4 -76.686 163.4  0.00  0.091
7                         5 -75.137 163.4  0.06  0.088
18      -0.7361           5 -75.293 163.7  0.37  0.076
21      -0.4501           5 -75.346 163.8  0.48  0.072
23      -0.4507           6 -73.598 163.9  0.49  0.071
39               -0.3655  6 -73.867 164.4  1.03  0.054
20      -0.7223           6 -73.900 164.5  1.09  0.053
37               -0.3385  5 -75.736 164.6  1.26  0.048
29      -0.6439           6 -74.027 164.7  1.35  0.046
34               -0.5603  5 -76.142 165.4  2.07  0.032
1                         3 -79.204 165.6  2.18  0.031
2                         4 -77.951 165.9  2.53  0.026
36               -0.5697  6 -74.626 165.9  2.55  0.025
11                        5 -76.391 165.9  2.57  0.025
13                        5 -76.454 166.1  2.69  0.024
3                         4 -78.122 166.2  2.87  0.022
45               -0.4669  6 -74.820 166.3  2.93  0.021
9                         4 -78.177 166.4  2.98  0.020
22      -0.6281           6 -74.878 166.4  3.05  0.020
31      -0.5864           7 -72.936 166.5  3.09  0.019
6                         5 -76.673 166.5  3.13  0.019
4                         5 -76.710 166.6  3.21  0.018
8                         6 -75.077 166.8  3.45  0.016
15                        6 -75.112 166.9  3.52  0.016
50      -0.9475   0.2127  6 -75.236 167.1  3.77  0.014
24      -0.5913           7 -73.277 167.1  3.77  0.014
53      -0.6708   0.2106  6 -75.288 167.2  3.87  0.013
26      -0.7344           6 -75.292 167.3  3.88  0.013
17      -0.3172           4 -78.638 167.3  3.90  0.013
Models ranked by AICc(x) </code></pre>
</div>
<div class="sourceCode cell-code" id="cb213"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb213-1"><a href="#cb213-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select the best model:</span></span>
<span id="cb213-2"><a href="#cb213-2" aria-hidden="true" tabindex="-1"></a>best_ab_25 <span class="ot">&lt;-</span> <span class="fu">get.models</span>(abundance_25, <span class="at">subset =</span> <span class="dv">8</span>)[[<span class="dv">1</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="abundance-25cm-plot-morphometrics-50cm" class="level2">
<h2 class="anchored" data-anchor-id="abundance-25cm-plot-morphometrics-50cm">Abundance (25cm plot) ~ Morphometrics (50cm)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb214"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb214-1"><a href="#cb214-1" aria-hidden="true" tabindex="-1"></a>SC_50 <span class="ot">&lt;-</span> SC_master <span class="sc">%&gt;%</span></span>
<span id="cb214-2"><a href="#cb214-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(scale_cm <span class="sc">==</span> <span class="dv">50</span>)</span>
<span id="cb214-3"><a href="#cb214-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb214-4"><a href="#cb214-4" aria-hidden="true" tabindex="-1"></a>abundance_50 <span class="ot">&lt;-</span> <span class="fu">glmmTMB</span>(LSAT_Abundance <span class="sc">~</span> rugo_mean <span class="sc">+</span> slope_mean <span class="sc">+</span> sapr <span class="sc">+</span> std_curve <span class="sc">+</span> plan_curve <span class="sc">+</span> tpi,</span>
<span id="cb214-5"><a href="#cb214-5" aria-hidden="true" tabindex="-1"></a>                        <span class="at">data =</span> SC_50, </span>
<span id="cb214-6"><a href="#cb214-6" aria-hidden="true" tabindex="-1"></a>                        <span class="at">family =</span> <span class="fu">tweedie</span>(<span class="at">link =</span><span class="st">"log"</span>),</span>
<span id="cb214-7"><a href="#cb214-7" aria-hidden="true" tabindex="-1"></a>                        <span class="at">na.action =</span> <span class="st">"na.fail"</span>)</span>
<span id="cb214-8"><a href="#cb214-8" aria-hidden="true" tabindex="-1"></a>abundance_50 <span class="ot">&lt;-</span> <span class="fu">dredge</span>(abundance_50, <span class="at">rank =</span> <span class="st">"AICc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Fixed terms are "cond((Int))" and "disp((Int))"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb216"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb216-1"><a href="#cb216-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(abundance_50, delta <span class="sc">&lt;=</span> <span class="dv">4</span>) <span class="co"># null model is best model for LSAT abundance in a 25cm plot and 50cm scale</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Global model call: glmmTMB(formula = LSAT_Abundance ~ rugo_mean + slope_mean + sapr + 
    std_curve + plan_curve + tpi, data = SC_50, family = tweedie(link = "log"), 
    na.action = "na.fail", ziformula = ~0, dispformula = ~1)
---
Model selection table 
   cnd((Int)) dsp((Int)) cnd(pln_crv) cnd(rug_men) cnd(spr) cnd(slp_men)
1       2.079          +                                                
9       1.730          +                                          0.6228
5       2.201          +                              1.329             
13      1.862          +                              1.231       0.5909
2       2.054          +     -0.43470                                   
33      1.992          +                                                
3       1.796          +                   -0.8777                      
17      2.066          +                                                
37      2.103          +                              1.462             
7       1.915          +                   -0.8835    1.338             
11      1.446          +                   -0.8690                0.6270
41      1.683          +                                          0.5936
21      2.189          +                              1.325             
25      1.718          +                                          0.6183
10      1.744          +     -0.09804                             0.5881
6       2.192          +     -0.07461                 1.270             
   cnd(std_crv) cnd(tpi) df  logLik  AICc delta weight
1                         3 -79.204 165.6  0.00  0.170
9                         4 -78.022 166.0  0.49  0.133
5                         4 -78.025 166.1  0.50  0.132
13                        5 -76.894 166.9  1.40  0.085
2                         4 -78.862 167.7  2.17  0.057
33                0.4366  4 -78.909 167.8  2.27  0.055
3                         4 -78.990 168.0  2.43  0.051
17       0.3054           4 -79.040 168.1  2.53  0.048
37                0.5684  5 -77.480 168.1  2.57  0.047
7                         5 -77.785 168.7  3.18  0.035
11                        5 -77.788 168.7  3.18  0.035
41                0.3328  5 -77.837 168.8  3.28  0.033
21       0.2919           5 -77.860 168.9  3.33  0.032
25       0.2886           5 -77.864 168.9  3.34  0.032
10                        5 -78.007 169.2  3.62  0.028
6                         5 -78.017 169.2  3.64  0.028
Models ranked by AICc(x) </code></pre>
</div>
<div class="sourceCode cell-code" id="cb218"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb218-1"><a href="#cb218-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select the best model:</span></span>
<span id="cb218-2"><a href="#cb218-2" aria-hidden="true" tabindex="-1"></a>best_ab_50 <span class="ot">&lt;-</span> <span class="fu">get.models</span>(abundance_50, <span class="at">subset =</span> <span class="dv">1</span>)[[<span class="dv">1</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="abundance-25cm-plot-morphometrics-100cm" class="level2">
<h2 class="anchored" data-anchor-id="abundance-25cm-plot-morphometrics-100cm">Abundance (25cm plot) ~ Morphometrics (100cm)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb219"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb219-1"><a href="#cb219-1" aria-hidden="true" tabindex="-1"></a>SC_100 <span class="ot">&lt;-</span> SC_master <span class="sc">%&gt;%</span></span>
<span id="cb219-2"><a href="#cb219-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(scale_cm <span class="sc">==</span> <span class="dv">100</span>)</span>
<span id="cb219-3"><a href="#cb219-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb219-4"><a href="#cb219-4" aria-hidden="true" tabindex="-1"></a>abundance_100 <span class="ot">&lt;-</span> <span class="fu">glmmTMB</span>(LSAT_Abundance <span class="sc">~</span> rugo_mean <span class="sc">+</span> slope_mean <span class="sc">+</span> sapr <span class="sc">+</span> std_curve <span class="sc">+</span> plan_curve <span class="sc">+</span> tpi,</span>
<span id="cb219-5"><a href="#cb219-5" aria-hidden="true" tabindex="-1"></a>                        <span class="at">data =</span> SC_100, </span>
<span id="cb219-6"><a href="#cb219-6" aria-hidden="true" tabindex="-1"></a>                        <span class="at">family =</span> <span class="fu">tweedie</span>(<span class="at">link =</span><span class="st">"log"</span>),</span>
<span id="cb219-7"><a href="#cb219-7" aria-hidden="true" tabindex="-1"></a>                        <span class="at">na.action =</span> <span class="st">"na.fail"</span>)</span>
<span id="cb219-8"><a href="#cb219-8" aria-hidden="true" tabindex="-1"></a>abundance_100 <span class="ot">&lt;-</span> <span class="fu">dredge</span>(abundance_100, <span class="at">rank =</span> <span class="st">"AICc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Fixed terms are "cond((Int))" and "disp((Int))"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb221"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb221-1"><a href="#cb221-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(abundance_100, delta <span class="sc">&lt;=</span> <span class="dv">4</span>) <span class="co"># null model is best model for LSAT abundance in a 100cm plot and 25cm scale</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Global model call: glmmTMB(formula = LSAT_Abundance ~ rugo_mean + slope_mean + sapr + 
    std_curve + plan_curve + tpi, data = SC_100, family = tweedie(link = "log"), 
    na.action = "na.fail", ziformula = ~0, dispformula = ~1)
---
Model selection table 
   cnd((Int)) dsp((Int)) cnd(pln_crv) cnd(rug_men) cnd(spr) cnd(slp_men)
5       1.533          +                             -2.584             
33      1.773          +                                                
7       2.256          +                     1.900   -2.042             
3       2.880          +                     2.563                      
17      1.870          +                                                
21      1.502          +                             -2.094             
37      1.476          +                             -1.951             
6       1.522          +      -0.6269                -2.703             
1       2.079          +                                                
13      1.672          +                             -2.908      -0.4539
35      2.423          +                     1.748                      
14      1.760          +      -1.0620                -3.399      -0.8246
19      2.521          +                     1.794                      
15      2.391          +                     1.892   -2.348      -0.4375
8       2.196          +      -0.5203        1.773   -2.193             
   cnd(std_crv) cnd(tpi) df  logLik  AICc delta weight
5                         4 -76.665 163.3  0.00  0.174
33                 2.050  4 -77.233 164.5  1.14  0.099
7                         5 -75.658 164.5  1.14  0.098
3                         4 -77.288 164.6  1.25  0.093
17        2.168           4 -77.525 165.0  1.72  0.074
21        1.458           5 -75.967 165.1  1.76  0.072
37                 1.299  5 -75.995 165.1  1.82  0.070
6                         5 -76.181 165.5  2.19  0.058
1                         3 -79.204 165.6  2.22  0.057
13                        5 -76.282 165.7  2.39  0.053
35                 1.411  5 -76.516 166.2  2.86  0.042
14                        6 -75.091 166.8  3.52  0.030
19        1.284           5 -76.854 166.9  3.54  0.030
15                        6 -75.267 167.2  3.87  0.025
8                         6 -75.292 167.3  3.92  0.025
Models ranked by AICc(x) </code></pre>
</div>
<div class="sourceCode cell-code" id="cb223"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb223-1"><a href="#cb223-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select the best model:</span></span>
<span id="cb223-2"><a href="#cb223-2" aria-hidden="true" tabindex="-1"></a>best_ab_100 <span class="ot">&lt;-</span> <span class="fu">get.models</span>(abundance_100, <span class="at">subset =</span> <span class="dv">7</span>)[[<span class="dv">1</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>For all three scales, the null model is the most parsimonious for predicting LSAT abundance at the 25cm scale… Which is interesting, we can conclude from this that morphometrics have a stronger control on LSAT metrics, but not the cover of LSAT at least at the 25cm scale.</p>
<p>I am not sure where to go from here, other than running the analysis with multiple LSAT points per morphometric scale (which I don’t have a lot of points for, but have a few and Rolo wanted me to try that). So, thoughts, opinions, etc would be appreciated before meeting on Tuesday 2/24. Thank you :)</p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>